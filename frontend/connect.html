<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WalletConnect v2 Example</title>
</head>
<body>
  <h2>WalletConnect v2 Demo</h2>
  <button id="connectBtn">Connect Wallet</button>

  <script type="module">
    import { EthereumProvider } from "https://esm.sh/@walletconnect/ethereum-provider@2.11.1";

    async function connectWalletConnect() {
      try {
        console.log("Attempting to connect WalletConnect...");

        const provider = await EthereumProvider.init({
          projectId: "965ff7dc5a6c6d555317fbeb6553d372", // Get from https://cloud.walletconnect.com
          chains: [1], // Ethereum mainnet (use 5 for Goerli)
          showQrModal: true,
        });

        // Open QR modal
        await provider.connect();

        console.log("âœ… Connected accounts:", provider.accounts);
        alert("Connected: " + provider.accounts[0]);
      } catch (err) {
        console.error("ðŸš¨ WalletConnect initialization error:", err);
        alert("Failed: " + err.message);
      }
    }

    document.getElementById("connectBtn").onclick = connectWalletConnect;
  </script>
</body>
</html>
